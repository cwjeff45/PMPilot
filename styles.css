:root{
  --bg:#f8fafc; --fg:#0f172a; --muted:#64748b; --card:#fff;
  --primary:#0ea5e9; --danger:#ef4444; --ring:rgba(14,165,233,.35); --border:#e5e7eb;
  font-synthesis-weight:none; text-rendering:optimizeLegibility;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* Reset / base */
*{ box-sizing:border-box }
body{
  margin:0; min-height:100vh; background:var(--bg); color:var(--fg);
  font:15px/1.45 system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
}

/* Layout helpers */
.row{display:flex;gap:8px;align-items:center}
.grid{display:grid;gap:14px}
.card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:14px;box-shadow:0 6px 18px rgba(2,6,23,.04)}
.muted{color:var(--muted)}
.small{font-size:12px;color:var(--muted)}

/* Header */
.app-header{
  position:sticky; top:0; z-index:40; display:flex; align-items:center; gap:12px;
  padding:12px 16px; background:#0f172a; color:#fff; box-shadow:0 2px 12px rgba(0,0,0,.08)
}
.app-header h1{ margin:0; font-size:18px; font-weight:600; letter-spacing:.2px }
.icon-btn{ border:0; background:transparent; color:inherit; font-size:20px; cursor:pointer; padding:6px 8px; border-radius:8px }
.icon-btn:hover{ background:rgba(255,255,255,.09) }

/* Content container */
.container{ max-width:1000px; margin:0 auto; padding:16px }

/* Inputs & Buttons */
.input,.btn{ font:inherit; border-radius:10px; padding:9px 11px; outline:none }
.input{ background:#fff; border:1px solid var(--border) }
.input:focus{ border-color:var(--primary); box-shadow:0 0 0 4px var(--ring) }
.btn{ background:var(--primary); color:#fff; border:0; cursor:pointer; font-weight:600 }
.btn:disabled{ opacity:.6; cursor:not-allowed }
.btn-light{ background:#fff; color:var(--fg); border:1px solid var(--border); font-weight:600 }
.btn-danger{ background:var(--danger); color:#fff; border:0 }

/* Drawer + backdrop (Agents) */
.backdrop{
  position:fixed; inset:0; background:rgba(2,6,23,.38);
  opacity:0; pointer-events:none; transition:opacity .18s ease; z-index:45
}
.backdrop.show{ opacity:1; pointer-events:auto }
.drawer{
  position:fixed; inset:0 auto 0 0; width:320px; max-width:92vw; background:var(--card); border-right:1px solid var(--border);
  transform:translateX(-100%); transition:transform .18s ease; z-index:50; display:flex; flex-direction:column; min-height:100vh
}
.drawer.open{ transform:translateX(0) }
.drawer-header{ display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid var(--border) }
.list{ list-style:none; margin:0; padding:8px 12px 20px; overflow:auto }
.list li{ display:flex; align-items:center; justify-content:space-between; padding:8px 10px; border-radius:10px }
.list li:nth-child(odd){ background:#f8fafc }
.rm{ border:0; background:transparent; color:var(--danger); font-weight:700; cursor:pointer; padding:6px 8px; border-radius:8px }
.rm:hover{ background:rgba(239,68,68,.08) }

/* Projects overview */
.projects-empty{ display:grid; place-items:center; height:calc(100vh - 120px); text-align:center }
.projects-grid{ display:grid; gap:14px; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)) }
.proj-card h3{ margin:0 0 4px; font-size:16px }
.proj-card .meta{ color:var(--muted); font-size:13px }
.proj-actions{ display:flex; gap:8px; flex-wrap:wrap; margin-top:8px }
.del{ position:absolute; top:8px; right:8px; border:0; background:transparent; color:var(--danger); font-weight:700; cursor:pointer; padding:4px 6px; border-radius:8px }
.del:hover{ background:rgba(239,68,68,.08) }
.addbar{
  position:sticky; bottom:0; z-index:30;
  background:linear-gradient(to top,rgba(248,250,252,1),rgba(248,250,252,.7));
  border-top:1px solid var(--border); padding:10px 16px; display:flex; justify-content:center; backdrop-filter:blur(2px)
}

/* Dialogs (generic) */
dialog{ border:0; padding:0; border-radius:14px; width:560px; max-width:calc(100vw - 32px) }
.modal-card{ padding:16px; display:grid; gap:10px }
.modal-grid{ display:grid; gap:10px }
.modal-row{ display:grid; gap:10px; grid-template-columns:1fr 1fr }
.lbl{ font-size:13px; color:var(--muted) }
.modal-actions{ display:flex; justify-content:end; gap:8px; margin-top:6px }
::backdrop{ background:rgba(2,6,23,.45) }

/* Project detail page */
.detail-head{ display:flex; align-items:center; gap:10px; margin-bottom:10px }
.detail-head h2{ margin:0 }

/* Gantt (inline + modal) */
.gantt{ display:grid; gap:10px }
.gantt .ruler{ display:flex; border:1px solid var(--border); border-radius:10px; overflow:hidden }
.gantt .tick{ flex:0 0 auto; border-right:1px solid var(--border); padding:4px 6px; font-size:12px; color:var(--muted); text-align:center }
.gantt .tick:last-child{ border-right:0 }

.gantt-row{ display:grid; grid-template-columns:240px 1fr; align-items:center; height:30px; gap:8px }
.gantt-label{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; padding-right:10px; font-size:14px }
.gantt-track{ position:relative; height:24px; background:#f1f5f9; border:1px solid var(--border); border-radius:8px; overflow:hidden }
.gantt-bar{ position:absolute; top:2px; height:20px; border-radius:8px; display:flex; align-items:center; justify-content:center; padding:0 8px; opacity:.95 }
.gantt-bar span{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-size:12px; font-weight:700; mix-blend-mode:luminosity }
.gantt .ruler .tick{ padding:4px 0 6px 4px }

.gantt-bar.light span{ color:#111 }
.gantt-bar.dark  span{ color:#fff }

.gantt-scroll{ overflow:auto; max-height:320px; padding-bottom:6px } /* inline view height cap */
.gantt-full .gantt-scroll{ max-height:unset; height:100% }           /* modal: fill dialog */

/* Open Gantt dialog — adjustable */
#ganttDialog{
  /* override generic dialog width cap so content can size itself */
  width:auto; max-width:none; padding:0;
}
#ganttDialog .modal-card.wide{
  box-sizing:border-box;
  display:flex; flex-direction:column;
  overflow:hidden;            /* needed for resize */
  resize:both;                /* user can drag to resize */
  /* default size + constraints */
  width:80vw; height:80vh;
  min-width:520px; min-height:360px;
  max-width:95vw; max-height:95vh;
}
#ganttFull{ flex:1; display:flex; flex-direction:column }
#ganttDialog .gantt-scroll{ height:100%; max-height:unset }

/* Task list */
.task-list .task{
  display:grid; grid-template-columns:1fr auto; gap:8px; align-items:center;
  padding:10px; border:1px solid var(--border); border-radius:12px; background:#fff
}
.task .left{ display:grid; gap:4px }
.task .note{ color:var(--fg) }
.task .note.muted{ color:var(--muted); font-style:italic }
.task-list .task:hover{ box-shadow:0 0 0 3px var(--ring) }

/* Expandable details under a task */
.task .details{
  display:none; grid-column:1 / -1; margin-top:6px; padding:10px;
  border:1px dashed var(--border); border-radius:10px; background:#f8fafc; color:var(--fg)
}
.task.open .details{ display:block }
.task .details .empty{ color:var(--muted); font-style:italic }

/* Live clock (centered) */
.clock-bar{
  display:flex; justify-content:center; align-items:center;
  font-size:18px; font-weight:700; padding:10px 14px; margin-bottom:12px
}

/* Notice toggle + dropdown */
.notice-toggle{
  position:fixed; right:16px; top:72px; z-index:50;
  background:#fff; color:var(--fg);
  border:1px solid var(--border); border-radius:999px; padding:8px 12px;
  font-weight:700; cursor:pointer; box-shadow:0 6px 18px rgba(2,6,23,.06)
}
.notice-toggle.has-alert::after{
  content:""; position:absolute; top:-3px; right:-3px; width:10px; height:10px;
  border-radius:999px; background:#ef4444; box-shadow:0 0 0 2px #fff
}

.notice-panel{
  position:fixed; right:16px; top:116px; z-index:45; width:340px; max-height:70vh; overflow:auto;
  background:var(--card); border:1px solid var(--border); border-radius:14px;
  box-shadow:0 6px 18px rgba(2,6,23,.08); padding:12px
}
.notice-panel[hidden]{ display:none }
.notice-panel h3{ margin:0 0 6px 0 }
.notice-list{ display:grid; gap:10px; margin-top:8px }
.notice-item{
  display:grid; gap:4px;
  border:1px solid var(--border); border-left:4px solid var(--primary);
  border-radius:10px; padding:10px; background:#fff; cursor:pointer
}
.notice-item:hover{ box-shadow:0 0 0 3px var(--ring) }
.notice-item .meta{ font-size:12px; color:var(--muted) }

@media (max-width:640px){
  .notice-panel{ width:92vw; right:4vw }
}

/* highlight when jumping to a task from a notice */
@keyframes pulseHighlight{
  0%{ box-shadow:0 0 0 0 var(--ring) }
  100%{ box-shadow:0 0 0 14px rgba(14,165,233,0) }
}
.pulse{ animation:pulseHighlight 1.2s ease-out 1; outline:3px solid var(--ring); border-radius:12px }

/* Auth / Lock overlay */
.auth{ position:fixed; inset:0; display:grid; place-items:center;
  background:linear-gradient(180deg,rgba(2,6,23,.55),rgba(2,6,23,.55));
  backdrop-filter:blur(3px); z-index:100
}
.auth[hidden]{ display:none }
.auth [hidden]{ display:none !important }
.auth-card{
  width:360px; max-width:92vw; background:#fff; border:1px solid var(--border); border-radius:16px;
  padding:18px; box-shadow:0 10px 30px rgba(2,6,23,.15); display:grid; gap:10px
}
.auth-card h2{ margin:0 0 6px 0 }

/* Agent color UI */
.agent-row{ display:flex; align-items:center; justify-content:space-between; gap:10px }
.agent-row .left{ display:flex; align-items:center; gap:8px }
.color-dot{ display:inline-block; width:12px; height:12px; border-radius:999px; border:1px solid var(--border) }
.agent-color{ inline-size:28px; block-size:28px; padding:0; border:1px solid var(--border); border-radius:6px; background:#fff }

/* Project status badges */
.status-badge{ display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; margin-left:8px }
.status-active{ background:#e6f4ff; color:#0369a1; border:1px solid #bae6fd }
.status-onhold{ background:#fff7ed; color:#a16207; border:1px solid #fde68a }
.status-complete{ background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0 }

/* Projects list tabs */
.tabbar{ display:flex; gap:8px; align-items:center; margin:8px 0 12px }
.tabbar .tab{ padding:6px 10px; border:1px solid var(--border); border-radius:10px; background:#fff; cursor:pointer }
.tabbar .tab.active{ box-shadow:0 0 0 3px var(--ring); font-weight:700 }

#brandHome{ cursor:pointer; user-select:none }

/* ===== Fancy / Glass look ===== */
:root{
  --glass-bg: rgba(255,255,255,.55);
  --glass-stroke: rgba(255,255,255,.35);
  --glass-blur: 12px;
  --elev: 0 10px 30px rgba(2,6,23,.15);
}

/* subtle mesh gradient background */
body::before{
  content:"";
  position:fixed; inset:-20% -10% -10% -10%;
  z-index:-1;
  background:
    radial-gradient(1200px 800px at 10% -10%, #38bdf8 0, transparent 60%),
    radial-gradient(1000px 700px at 110% 20%, #a78bfa 0, transparent 55%),
    radial-gradient(900px 700px at 50% 120%, #34d399 0, transparent 60%),
    linear-gradient(180deg,#eef2ff 0,#f8fafc 40%, #f1f5f9 100%);
  filter:saturate(1.05) contrast(1.01);
}

/* glass cards + pills (keeps header dark) */
.card,
.clock-bar,
.notice-toggle,
.notice-panel{
  background: var(--glass-bg);
  border: 1px solid var(--glass-stroke);
  backdrop-filter: blur(var(--glass-blur)) saturate(1.2);
  -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(1.2);
  box-shadow: var(--elev);
}

/* make buttons a bit shiny */
.btn{
  background: linear-gradient(180deg, #22b3ee, #0ea5e9);
  box-shadow: 0 8px 22px rgba(14,165,233,.25), inset 0 1px 0 rgba(255,255,255,.35);
  transition: transform .12s ease, box-shadow .12s ease;
}
.btn:hover{ transform: translateY(-1px); box-shadow: 0 12px 28px rgba(14,165,233,.30), inset 0 1px 0 rgba(255,255,255,.4) }
.btn:active{ transform: translateY(0) }

/* lift cards a touch on hover (desktop) */
@media (hover:hover){
  .proj-card.card:hover{ transform: translateY(-2px); transition: transform .12s ease, box-shadow .12s ease }
}

/* clickable brand */
#brandHome{ cursor:pointer; }

/* === Colorful glass theme (drop-in) === */

/* Slightly stronger, more colorful mesh background */
body::before{
  background:
    radial-gradient(1200px 800px at 10% -10%, #38bdf8 0, transparent 60%),
    radial-gradient(1000px 700px at 110% 20%, #a78bfa 0, transparent 55%),
    radial-gradient(900px 700px at 50% 120%, #34d399 0, transparent 60%),
    linear-gradient(180deg,#eef2ff 0,#f6f9ff 40%, #edf2f7 100%);
  filter: saturate(1.18) contrast(1.03) brightness(1.02);
}

/* Deeper header with subtle color shift */
.app-header{
  background: linear-gradient(90deg, #0f172a 0%, #0b1f3f 45%, #0a1630 100%);
  border-bottom: 1px solid rgba(255,255,255,.10);
}

/* Tinted “glass” surfaces (cards, clock pill, notices) */
.card,
.clock-bar,
.notice-toggle,
.notice-panel{
  background:
    linear-gradient(180deg, rgba(255,255,255,.60), rgba(255,255,255,.38)),
    radial-gradient(120% 120% at 0% 0%, rgba(14,165,233,.18), transparent 60%),
    radial-gradient(120% 120% at 100% 0%, rgba(99,102,241,.16), transparent 55%);
  border-color: rgba(255,255,255,.45);
  backdrop-filter: blur(12px) saturate(1.2);
  -webkit-backdrop-filter: blur(12px) saturate(1.2);
  box-shadow: 0 10px 30px rgba(14,165,233,.20), 0 2px 8px rgba(2,6,23,.15);
}

/* Clock pill gets a little glow */
.clock-bar{
  background:
    linear-gradient(180deg, rgba(255,255,255,.55), rgba(255,255,255,.35)),
    linear-gradient(90deg, rgba(14,165,233,.16), rgba(99,102,241,.16));
  box-shadow: 0 10px 30px rgba(14,165,233,.18);
}

/* Buttons: cyan → indigo gradient, with shiny hover */
.btn{
  background: linear-gradient(90deg, #06b6d4, #6366f1);
  box-shadow: 0 8px 22px rgba(99,102,241,.25), inset 0 1px 0 rgba(255,255,255,.35);
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
.btn:hover{
  transform: translateY(-1px);
  box-shadow: 0 12px 28px rgba(99,102,241,.32), inset 0 1px 0 rgba(255,255,255,.40);
  filter: saturate(1.05);
}

/* Project cards: soft indigo border & hover glow */
.proj-card.card{ border-color: rgba(99,102,241,.20); }
.proj-card.card:hover{
  box-shadow: 0 12px 36px rgba(79,70,229,.28), 0 4px 12px rgba(2,6,23,.18);
  border-color: rgba(99,102,241,.35);
  transform: translateY(-2px);
}

/* Tabs with color accent when active */
.tabbar .tab{
  background: linear-gradient(180deg, rgba(255,255,255,.7), rgba(255,255,255,.5));
  border-color: rgba(255,255,255,.55);
}
.tabbar .tab.active{
  background:
    linear-gradient(180deg, rgba(14,165,233,.20), rgba(99,102,241,.20)),
    linear-gradient(180deg, rgba(255,255,255,.7), rgba(255,255,255,.5));
  box-shadow: 0 0 0 3px rgba(99,102,241,.25);
}

/* Gantt rails pick up the theme */
.gantt .ruler{ 
  background: linear-gradient(180deg, rgba(255,255,255,.55), rgba(255,255,255,.35));
  border-color: rgba(14,165,233,.25);
}
.gantt-track{
  background: rgba(14,165,233,.08);
  border-color: rgba(99,102,241,.25);
}

/* Notice heading with gradient text */
.notice-panel h3{
  background: linear-gradient(90deg, #0ea5e9 0, #6366f1 100%);
  -webkit-background-clip:text; background-clip:text; color:transparent;
}

/* Pretty scrollbars (Chromium/WebKit) */
*::-webkit-scrollbar{ width:10px; height:10px }
*::-webkit-scrollbar-thumb{
  background: linear-gradient(180deg, #0ea5e9, #6366f1);
  border-radius:999px; border:2px solid rgba(255,255,255,.5)
}
*::-webkit-scrollbar-track{ background: transparent }
